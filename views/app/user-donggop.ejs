<html lang="en">

<head>
    <%- include('./components/head') -%>
</head>

<body>
    <%- include('./components/header') -%>
    <%- include('./components/bottomNav') -%>
   
    <%- include('./components/userCover') -%>

    <div class="main-body user">
        <div class="container">
            <div class="row-change">
                <div class="cot-12 cot-3-lg pe-0 pe-lg-4">
                    <div class="side-box">
                        <h4 class="mb-4">Danh mục</h4>
                        <div class="side-cate mb-4">
                            <%- include('./components/featureProfile') -%>
                        </div>
                    </div>
                </div>
                <div class="cot-12 cot-9-lg hinhanh-detail">
                    <h3 class="h3-title mb-5 underline">Danh sách đóng góp:</h3>

                    <div class="tabs-content">
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <a href="#list_1" class="nav-link active" data-bs-toggle="tab" aria-selected="false" role="tab"
                                    tabindex="-1">Tài liệu (<%= dataProfile.contributes.contributeItems.filter( item => item.type === 'document').length%>)</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a href="#list_2" class="nav-link" data-bs-toggle="tab" aria-selected="false" role="tab"
                                    tabindex="-1">Hình ảnh (<%= dataProfile.contributes.contributeItems.filter( item => item.type === 'image').length%>)</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a href="#list_3" class="nav-link" data-bs-toggle="tab" aria-selected="false" role="tab"
                                    tabindex="-1">Videos (<%= dataProfile.contributes.contributeItems.filter( item => item.type === 'video').length%>)</a>
                            </li>
                        </ul>

                        <div class="tab-content">
                            <div class="tab-pane fade active show  p-15" id="list_1" role="tabpanel">
                                <div class="row-change">
                                <%if(dataProfile && dataProfile.contributes.contributeItems.length > 0){
                                    const listDocument = dataProfile.contributes.contributeItems.filter( item => item.type === 'document');
                                    if(listDocument){
                                        listDocument.forEach( prod => {
                                            files = prod.files
                                    %>
                                        <% files.forEach( item => {%>
                                            <div class="cot-12 cot-6-lg d-flex gap-3 gap-md-3">
                                                <div class="home-tulieu-img">
                                                    <img class="mb-2" src="../public/app/images/file_document.webp" alt="">
                                                </div>
                                                <div class="home-tulieu-text">
                                                    <a href="#">
                                                        <h5 class="mb-3 br-line-2"><%= item.name%></h5>
                                                    </a>
                                                    <div class="home-tulieu-date d-flex justify-content-around">
                                                        <span><%= prod.createdAt%></span>
                                                    </div>
                                                </div>
                                            </div>
                                        <%})%>
                                        <% })
                                        }
                                }%>
                                </div>
                            </div>
                            <div class="tab-pane fade p-15" id="list_2" role="tabpanel">
                                <div class="row-change-grid mb-5">

                                    <%if(dataProfile && dataProfile.contributes.contributeItems.length > 0){
                                        const listImage = dataProfile.contributes.contributeItems.filter( item => item.type === 'image');
                                        if(listImage){
                                            listImage.forEach( prod => {
                                                files = prod.files
                                        %>
                                            <% files.forEach( item => {%>
                                        <div class="cot-3 hinhanh-all-box">
                                            <div class="hinhanh-box-img">
                                                <a href="#">
                                                    <img src="../<%= item.file%>" alt="">
                                                </a>
                                                <span>3 hình ảnh</span>
                                            </div>
                                            <a href="#">
                                                <h4 class="mt-3 br-line-1"><%= item.name%></h4>
                                            </a>
                                        </div>
                                        <%})%>
                                            <% })
                                            }
                                        }%>
                                </div>
                            </div>
                            <div class="tab-pane fade p-15" id="list_3" role="tabpanel">
                                <div class="row-change-grid mb-5">
                                    <%if(dataProfile && dataProfile.contributes.contributeItems.length > 0){
                                        const listVideo = dataProfile.contributes.contributeItems.filter( item => item.type === 'video');
                                        if(listVideo){
                                            listVideo.forEach( prod => {
                                                files = prod.files
                                        %>
                                            <% files.forEach( item => {%>
                                    <div class="home-video">
                                        <div class="home-hinhanh-img">
                                            <a href="#">
                                                <iframe src="../<%= item.file%>"  allowfullscreen controls="false" frameborder="0">
                                            </a>
                                        </div>
                                        <a href="#">
                                            <h4 class="h4-title mt-4 br-line-2"><%= item.name%></h4>
                                        </a>
                                    </div>
                                    <%})%>
                                    <% })
                                    }
                                 }%>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
               
            </div>
        </div>
    </div>

    <%- include('./components/footer') -%>
    <%- include('./components/end') -%>

</body>

</html>